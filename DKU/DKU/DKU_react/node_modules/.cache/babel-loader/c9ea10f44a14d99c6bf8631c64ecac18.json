{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/A1/Desktop/FurnitureMarketplaceRepository/DKU_web_build/DKU/DKU/DKU_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/A1/Desktop/FurnitureMarketplaceRepository/DKU_web_build/DKU/DKU/DKU_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/A1/Desktop/FurnitureMarketplaceRepository/DKU_web_build/DKU/DKU/DKU_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./register.css';import jwt_decode from\"jwt-decode\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Polje2(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),status=_useState2[0],changeStatus=_useState2[1];function InputField(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"secondSectionInputContainer\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"secondSectionInputName\",children:props.sectionName}),/*#__PURE__*/_jsx(\"input\",{id:props.id,className:status?'secondSectionInputT':'secondSectionInputF',name:props.name,style:{backgroundImage:\"url(\".concat(LoadImages(props.icon),\")\")},type:isPass?'password':'text'})]});}function formSubmit(event){event.preventDefault();var rawData=JSON.stringify({username:event.target.elements.first.value,password:event.target.elements.second.value});var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://dku-web.vercel.app/api/token/',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:rawData});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();}var isPass=0;function LoadImages(id){switch(id){case 1:isPass=0;return require('./registerAssets/UserIcon.png');case 2:isPass=1;return require('./registerAssets/LockIcon.png');default:isPass=1;return require('./registerAssets/LockIcon.png');}}return/*#__PURE__*/_jsxs(\"section\",{className:\"secondSection\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"secondSectionHeader\",children:\"Registruj se\"}),/*#__PURE__*/_jsx(\"article\",{className:\"secondSectionIntro\",children:\"Pridru\\u017Ei nam se i postani volonter ve\\u0107 danas...\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formSubmit,className:\"secondSectionForm\",children:[/*#__PURE__*/_jsx(InputField,{id:\"first\",sectionName:\"Email adresa\",icon:1,name:\"email\"}),/*#__PURE__*/_jsx(InputField,{id:\"second\",sectionName:\"\\u0160ifra\",icon:2,name:\"pass\"}),status?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(\"p\",{className:\"secondSectionInputFail\",children:\"*Login podaci neta\\u010Dni ili nepotpuni\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"secondSectionLabel\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"secondSectionPassKeep\"}),\"Spremi zaporuku\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"secondSectionRegisterButton\",children:\"Registruj se\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"secondSectionGoogleButton\",children:\"Prijava pomo\\u0107u Google ra\\u010Duna\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"secondSectionPitanje\",children:[\"Imate ra\\u010Dun? \",/*#__PURE__*/_jsx(\"a\",{className:\"secondSectionNav\",children:\"Prijavite se\"})]})]});}","map":{"version":3,"names":["jwt_decode","React","useState","Polje2","status","changeStatus","InputField","props","sectionName","id","name","backgroundImage","LoadImages","icon","isPass","formSubmit","event","preventDefault","rawData","JSON","stringify","username","target","elements","first","value","password","second","fetchData","fetch","method","headers","body","require"],"sources":["C:/Users/A1/Desktop/FurnitureMarketplaceRepository/DKU_web_build/DKU/DKU/DKU_react/src/screens/registerScreen/registerSection2.js"],"sourcesContent":["import './register.css'\r\nimport jwt_decode from \"jwt-decode\";\r\nimport React, { useState } from 'react';\r\n\r\nexport default function Polje2() {\r\n\r\n    const [status, changeStatus] = useState(true)\r\n\r\n    function InputField(props) {\r\n        return (\r\n            <div className='secondSectionInputContainer'>\r\n                <p className='secondSectionInputName'>{props.sectionName}</p>\r\n                <input\r\n                    id={props.id}\r\n                    className={status ? 'secondSectionInputT': 'secondSectionInputF'}\r\n                    name={props.name}\r\n                    style={{ backgroundImage: `url(${LoadImages(props.icon)})` }}\r\n                    type={isPass ? 'password' : 'text'}\r\n                    >\r\n                </input>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function formSubmit(event) {\r\n        event.preventDefault()\r\n        const rawData = JSON.stringify({\r\n            username: event.target.elements.first.value,\r\n            password: event.target.elements.second.value\r\n        })\r\n\r\n        const fetchData = async () => {\r\n            \r\n                await fetch('https://dku-web.vercel.app/api/token/', {\r\n                    method: 'POST',\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    body: rawData\r\n                })\r\n                /*.then((response) => {\r\n                    if(response.ok) {\r\n                        return response.json()\r\n                    }\r\n                    else {\r\n                        throw response\r\n                    }\r\n                })\r\n                .then((responseData) => {\r\n                    var refreshToken = jwt_decode(responseData.refresh)\r\n                    var accessToken = jwt_decode(responseData.refresh)\r\n                    console.log(refreshToken.user_id)\r\n                    changeStatus(true)\r\n                })\r\n                \r\n        }catch (err) {\r\n            console.error(err)\r\n            changeStatus(false)\r\n        }}*/\r\n    }\r\n    fetchData()\r\n}\r\n\r\n    let isPass = 0;\r\n\r\n    function LoadImages(id) {\r\n        switch (id) {\r\n            case 1:\r\n                isPass = 0;\r\n                return require('./registerAssets/UserIcon.png');\r\n            case 2:\r\n                isPass = 1;\r\n                return require('./registerAssets/LockIcon.png');\r\n            default:\r\n                isPass = 1;\r\n                return require('./registerAssets/LockIcon.png');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className='secondSection'>\r\n            <h1 className='secondSectionHeader'>Registruj se</h1>\r\n            <article className='secondSectionIntro'>Pridruži nam se i postani volonter već danas...</article>\r\n            <form onSubmit={formSubmit} className='secondSectionForm'>\r\n                <InputField\r\n                    id='first'\r\n                    sectionName='Email adresa'\r\n                    icon={1}\r\n                    name='email' />\r\n                <InputField\r\n                    id='second'\r\n                    sectionName='Šifra'\r\n                    icon={2}\r\n                    name='pass' />\r\n                    {status ? <></> : <p \r\n                    className='secondSectionInputFail'>\r\n                    *Login podaci netačni ili nepotpuni</p>}\r\n                <label className='secondSectionLabel'>\r\n                    <input type='checkbox' className='secondSectionPassKeep' />\r\n                    Spremi zaporuku\r\n                </label>\r\n                <button className='secondSectionRegisterButton'>Registruj se</button>\r\n            </form>\r\n            <button className='secondSectionGoogleButton'>Prijava pomoću Google računa</button>\r\n            <p className='secondSectionPitanje'>Imate račun? <a className='secondSectionNav'>Prijavite se</a></p>\r\n        </section>\r\n    )\r\n}"],"mappings":"wgBAAA,MAAO,gBAAP,CACA,MAAOA,WAAP,KAAuB,YAAvB,CACA,MAAOC,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,6IAEA,cAAe,SAASC,OAAT,EAAkB,CAE7B,cAA+BD,QAAQ,CAAC,IAAD,CAAvC,wCAAOE,MAAP,eAAeC,YAAf,eAEA,QAASC,WAAT,CAAoBC,KAApB,CAA2B,CACvB,mBACI,aAAK,SAAS,CAAC,6BAAf,wBACI,UAAG,SAAS,CAAC,wBAAb,UAAuCA,KAAK,CAACC,WAA7C,EADJ,cAEI,cACI,EAAE,CAAED,KAAK,CAACE,EADd,CAEI,SAAS,CAAEL,MAAM,CAAG,qBAAH,CAA0B,qBAF/C,CAGI,IAAI,CAAEG,KAAK,CAACG,IAHhB,CAII,KAAK,CAAE,CAAEC,eAAe,eAASC,UAAU,CAACL,KAAK,CAACM,IAAP,CAAnB,KAAjB,CAJX,CAKI,IAAI,CAAEC,MAAM,CAAG,UAAH,CAAgB,MALhC,EAFJ,GADJ,CAaH,CAED,QAASC,WAAT,CAAoBC,KAApB,CAA2B,CACvBA,KAAK,CAACC,cAAN,GACA,GAAMC,QAAO,CAAGC,IAAI,CAACC,SAAL,CAAe,CAC3BC,QAAQ,CAAEL,KAAK,CAACM,MAAN,CAAaC,QAAb,CAAsBC,KAAtB,CAA4BC,KADX,CAE3BC,QAAQ,CAAEV,KAAK,CAACM,MAAN,CAAaC,QAAb,CAAsBI,MAAtB,CAA6BF,KAFZ,CAAf,CAAhB,CAKA,GAAMG,UAAS,4FAAG,2JAEJC,MAAK,CAAC,uCAAD,CAA0C,CACjDC,MAAM,CAAE,MADyC,CAEjDC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFwC,CAGjDC,IAAI,CAAEd,OAH2C,CAA1C,CAFD,uDAAH,kBAATU,UAAS,0CAAf,CA2BJA,SAAS,GACZ,CAEG,GAAId,OAAM,CAAG,CAAb,CAEA,QAASF,WAAT,CAAoBH,EAApB,CAAwB,CACpB,OAAQA,EAAR,EACI,IAAK,EAAL,CACIK,MAAM,CAAG,CAAT,CACA,MAAOmB,QAAO,CAAC,+BAAD,CAAd,CACJ,IAAK,EAAL,CACInB,MAAM,CAAG,CAAT,CACA,MAAOmB,QAAO,CAAC,+BAAD,CAAd,CACJ,QACInB,MAAM,CAAG,CAAT,CACA,MAAOmB,QAAO,CAAC,+BAAD,CAAd,CATR,CAWH,CAED,mBACI,iBAAS,SAAS,CAAC,eAAnB,wBACI,WAAI,SAAS,CAAC,qBAAd,0BADJ,cAEI,gBAAS,SAAS,CAAC,oBAAnB,uEAFJ,cAGI,cAAM,QAAQ,CAAElB,UAAhB,CAA4B,SAAS,CAAC,mBAAtC,wBACI,KAAC,UAAD,EACI,EAAE,CAAC,OADP,CAEI,WAAW,CAAC,cAFhB,CAGI,IAAI,CAAE,CAHV,CAII,IAAI,CAAC,OAJT,EADJ,cAMI,KAAC,UAAD,EACI,EAAE,CAAC,QADP,CAEI,WAAW,CAAC,YAFhB,CAGI,IAAI,CAAE,CAHV,CAII,IAAI,CAAC,MAJT,EANJ,CAWSX,MAAM,cAAG,kBAAH,cAAW,UAClB,SAAS,CAAC,wBADQ,sDAX1B,cAcI,eAAO,SAAS,CAAC,oBAAjB,wBACI,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,uBAAjC,EADJ,qBAdJ,cAkBI,eAAQ,SAAS,CAAC,6BAAlB,0BAlBJ,GAHJ,cAuBI,eAAQ,SAAS,CAAC,2BAAlB,oDAvBJ,cAwBI,WAAG,SAAS,CAAC,sBAAb,6CAAiD,UAAG,SAAS,CAAC,kBAAb,0BAAjD,GAxBJ,GADJ,CA4BH"},"metadata":{},"sourceType":"module"}