{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A1\\\\Desktop\\\\FurnitureMarketplaceRepository\\\\DKU_web_build\\\\REACT (frontend)\\\\src\\\\screens\\\\registerScreen\\\\registerSection2.js\",\n    _s = $RefreshSig$();\n\nimport './register.css';\nimport jwt_decode from \"jwt-decode\";\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Polje2() {\n  _s();\n\n  const [status, changeStatus] = useState(true);\n  const [values, changeValues] = useState({\n    username: '',\n    pass: ''\n  });\n\n  function InputField(props) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"secondSectionInputContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"secondSectionInputName\",\n        children: props.sectionName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: props.id,\n        className: status ? 'secondSectionInputT' : 'secondSectionInputF',\n        name: props.name,\n        style: {\n          backgroundImage: `url(${LoadImages(props.icon)})`\n        },\n        type: isPass ? 'password' : 'text',\n        defaultValue: props.value,\n        onChange: () => handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this);\n  }\n\n  function handleChange(event) {\n    console.log('hi');\n    changeValues(prevValues => {\n      return { ...prevValues,\n        [event.target.name]: event.target.value\n      };\n    });\n  }\n\n  function formSubmit(event) {\n    event.preventDefault();\n    const rawData = JSON.stringify({\n      username: event.target.elements.first.value,\n      password: event.target.elements.second.value\n    });\n\n    const fetchData = async () => {\n      try {\n        await fetch('https://dku-web.vercel.app/api/token/', {\n          method: 'POST',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: rawData\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            throw response;\n          }\n        }).then(responseData => {\n          var refreshToken = jwt_decode(responseData.refresh);\n          var accessToken = jwt_decode(responseData.refresh);\n          console.log(refreshToken.user_id);\n        });\n      } catch (err) {\n        console.error(err);\n        changeStatus(false);\n        changeValues({\n          username: rawData.username,\n          pass: rawData.password\n        });\n      }\n    };\n\n    fetchData();\n  }\n\n  let isPass = 0;\n\n  function LoadImages(id) {\n    switch (id) {\n      case 1:\n        isPass = 0;\n        return require('./registerAssets/UserIcon.png');\n\n      case 2:\n        isPass = 1;\n        return require('./registerAssets/LockIcon.png');\n\n      default:\n        isPass = 1;\n        return require('./registerAssets/LockIcon.png');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"secondSection\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"secondSectionHeader\",\n      children: \"Registruj se\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"secondSectionIntro\",\n      children: \"Pridru\\u017Ei nam se i postani volonter ve\\u0107 danas...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formSubmit,\n      className: \"secondSectionForm\",\n      children: [/*#__PURE__*/_jsxDEV(InputField, {\n        id: \"first\",\n        sectionName: \"Email adresa\",\n        icon: 1,\n        name: \"email\",\n        value: values.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        id: \"second\",\n        sectionName: \"\\u0160ifra\",\n        icon: 2,\n        name: \"pass\",\n        value: values.pass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), status ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"secondSectionInputFail\",\n        children: \"*Login podaci neta\\u010Dni ili nepotpuni\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"secondSectionLabel\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          className: \"secondSectionPassKeep\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), \"Spremi zaporuku\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"secondSectionRegisterButton\",\n        children: \"Registruj se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"secondSectionGoogleButton\",\n      children: \"Prijava pomo\\u0107u Google ra\\u010Duna\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"secondSectionPitanje\",\n      children: [\"Imate ra\\u010Dun? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"secondSectionNav\",\n        children: \"Prijavite se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 62\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Polje2, \"MWprtZ4giShFBWpNpa2N8bz8I08=\");\n\n_c = Polje2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Polje2\");","map":{"version":3,"names":["jwt_decode","React","useState","Polje2","status","changeStatus","values","changeValues","username","pass","InputField","props","sectionName","id","name","backgroundImage","LoadImages","icon","isPass","value","handleChange","event","console","log","prevValues","target","formSubmit","preventDefault","rawData","JSON","stringify","elements","first","password","second","fetchData","fetch","method","headers","body","then","response","ok","json","responseData","refreshToken","refresh","accessToken","user_id","err","error","require"],"sources":["C:/Users/A1/Desktop/FurnitureMarketplaceRepository/DKU_web_build/REACT (frontend)/src/screens/registerScreen/registerSection2.js"],"sourcesContent":["import './register.css'\r\nimport jwt_decode from \"jwt-decode\";\r\nimport React, { useState } from 'react';\r\n\r\nexport default function Polje2() {\r\n\r\n    const [status, changeStatus] = useState(true)\r\n    const [values, changeValues] = useState({\r\n        username: '',\r\n        pass: ''\r\n    })\r\n\r\n    function InputField(props) {\r\n        return (\r\n            <div className='secondSectionInputContainer'>\r\n                <p className='secondSectionInputName'>{props.sectionName}</p>\r\n                <input\r\n                    id={props.id}\r\n                    className={status ? 'secondSectionInputT': 'secondSectionInputF'}\r\n                    name={props.name}\r\n                    style={{ backgroundImage: `url(${LoadImages(props.icon)})` }}\r\n                    type={isPass ? 'password' : 'text'}\r\n                    defaultValue={props.value}\r\n                    onChange={() => handleChange}\r\n                    >\r\n                </input>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function handleChange(event) {\r\n        console.log('hi')\r\n        changeValues(prevValues => {\r\n            return {\r\n                ...prevValues,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    function formSubmit(event) {\r\n        event.preventDefault()\r\n        const rawData = JSON.stringify({\r\n            username: event.target.elements.first.value,\r\n            password: event.target.elements.second.value\r\n        })\r\n\r\n        const fetchData = async () => {\r\n            try{\r\n                await fetch('https://dku-web.vercel.app/api/token/', {\r\n                    method: 'POST',\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    body: rawData\r\n                })\r\n                .then((response) => {\r\n                    if(response.ok) {\r\n                        return response.json()\r\n                    }\r\n                    else {\r\n                        throw response\r\n                    }\r\n                })\r\n                .then((responseData) => {\r\n                    var refreshToken = jwt_decode(responseData.refresh)\r\n                    var accessToken = jwt_decode(responseData.refresh)\r\n                    console.log(refreshToken.user_id)\r\n                })\r\n                \r\n        }catch (err) {\r\n            console.error(err)\r\n            changeStatus(false)\r\n            changeValues({\r\n                username: rawData.username,\r\n                pass: rawData.password\r\n            })\r\n        }}\r\n\r\n        fetchData()\r\n    }\r\n\r\n    let isPass = 0;\r\n\r\n    function LoadImages(id) {\r\n        switch (id) {\r\n            case 1:\r\n                isPass = 0;\r\n                return require('./registerAssets/UserIcon.png');\r\n            case 2:\r\n                isPass = 1;\r\n                return require('./registerAssets/LockIcon.png');\r\n            default:\r\n                isPass = 1;\r\n                return require('./registerAssets/LockIcon.png');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className='secondSection'>\r\n            <h1 className='secondSectionHeader'>Registruj se</h1>\r\n            <article className='secondSectionIntro'>Pridruži nam se i postani volonter već danas...</article>\r\n            <form onSubmit={formSubmit} className='secondSectionForm'>\r\n                <InputField\r\n                    id='first'\r\n                    sectionName='Email adresa'\r\n                    icon={1}\r\n                    name='email'\r\n                    value={values.username} />\r\n                <InputField\r\n                    id='second'\r\n                    sectionName='Šifra'\r\n                    icon={2}\r\n                    name='pass' \r\n                    value={values.pass} />\r\n                    {status ? <></> : <p \r\n                    className='secondSectionInputFail'>\r\n                    *Login podaci netačni ili nepotpuni</p>}\r\n                <label className='secondSectionLabel'>\r\n                    <input type='checkbox' className='secondSectionPassKeep' />\r\n                    Spremi zaporuku\r\n                </label>\r\n                <button className='secondSectionRegisterButton'>Registruj se</button>\r\n            </form>\r\n            <button className='secondSectionGoogleButton'>Prijava pomoću Google računa</button>\r\n            <p className='secondSectionPitanje'>Imate račun? <a className='secondSectionNav'>Prijavite se</a></p>\r\n        </section>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}